{"version":3,"file":"static/js/727.196e58b3.chunk.js","mappings":"qPACA,EAA6B,iC,SCc7B,MAXA,WAAyB,IAAD,IACdA,GAAWC,EAAAA,EAAAA,MACjB,OACI,SAAC,KAAD,CACIC,GAAI,UAAAF,EAASG,aAAT,SAAgBC,KAAhB,UAAuBJ,EAASG,aAAhC,aAAuB,EAAgBC,KAAO,IAClDC,UAAWC,EAFf,2BAMP,ECZD,EAAiC,kCCmCjC,MAtBA,YAAuC,IAAlBC,EAAiB,EAAjBA,QAASC,EAAQ,EAARA,KAC1B,OACI,2BACS,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QAAS,GAAI,yBAAI,SAAC,KAAD,CACpBP,GAAG,SACHQ,MAAO,gBAAGC,EAAH,EAAGA,SAAH,MAAmB,CACtBC,aAAcD,EAAW,gBAAkB,GAC3CE,QAASF,EAAW,EAAI,GAFrB,EAFa,qBAMpB,cAAGN,UAAWC,EAAd,yCAEO,OAAPC,QAAO,IAAPA,OAAA,EAAAA,EAASE,QAAS,GAAI,yBAAI,SAAC,KAAD,CACtBP,GAAG,YACHQ,MAAO,gBAAGC,EAAH,EAAGA,SAAH,MAAmB,CACtBC,aAAcD,EAAW,gBAAkB,GAC3CE,QAASF,EAAW,EAAI,GAFrB,EAFe,wBAKO,cAAGN,UAAWC,EAAd,mCAIhD,E,SCjCD,EAAiC,kCAAjC,EAAiF,+BAAjF,EAA+H,gCAA/H,EAA4K,8BAA5K,EAA0N,iCAA1N,EAAuQ,6BC0BvQ,EAvBkB,SAAC,GAAe,IAAbQ,EAAY,EAAZA,MAGjB,OACI,iBAAKT,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,UACI,gBAAKS,IAAKD,EAAME,YAAN,yCAAsDF,EAAME,aAL/D,8EAK2FC,IAAKH,EAAMI,WAEjH,iBAAKb,UAAWC,EAAhB,WACI,eAAID,UAAWC,EAAf,SAAmCQ,EAAMI,SACzC,cAAGb,UAAWC,EAAd,SAAqCQ,EAAMK,YAC3C,eAAGd,UAAWC,EAAd,2BAA+CQ,EAAMM,iBACrD,eAAGf,UAAWC,EAAd,sBAA0CQ,EAAMO,QAAhD,eACA,eAAGhB,UAAWC,EAAd,qBAAyCQ,EAAMQ,qBAI9D,E,SCXKC,GAAUC,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IACfC,GAAOD,EAAAA,EAAAA,OAAK,kBAAM,0BAAN,IA0ElB,MAxEA,WACI,OAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOZ,EAAP,KAAca,EAAd,KACA,GAAwBD,EAAAA,EAAAA,UAAS,IAAjC,eAAOlB,EAAP,KAAaoB,EAAb,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOnB,EAAP,KAAgBsB,EAAhB,KACA,GAA8BH,EAAAA,EAAAA,WAAS,GAAvC,eAAOI,EAAP,KAAiBC,EAAjB,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MA6CjB,OA3CAC,EAAAA,EAAAA,YAAU,WAEN,IAAMC,EAAc,mCAAG,oHAGTC,EAAc,IAAIC,EAAAA,EAElBC,EAAeF,EAAYG,aAAaT,GAExCU,EAAcJ,EAAYK,gBAAgBX,GAC1CY,EAAiBN,EAAYO,gBAAgBb,GARpC,SAUwCc,QAAQC,WAAW,CAACP,EAAcE,EAAaE,IAVvF,kCAURI,EAVQ,KAUKC,EAVL,KAUiBC,EAVjB,KAYY,cAAvBF,EAAYG,OAZD,iBAaXxB,EAASqB,EAAYI,OAbV,8BAeL,IAAIC,MAAM,wBAAyBJ,EAAWK,QAfzC,QAkBW,cAAtBL,EAAWE,OACXvB,EAAQqB,EAAWG,MAAM5C,MAEzB+C,QAAQC,MAAM,uBAAwBP,EAAWK,QAGxB,cAAzBJ,EAAcC,OACdtB,EAAWqB,EAAcE,MAAMK,SAE/BF,QAAQC,MAAM,0BAA2BN,EAAcI,QA3B5C,kDA8BfI,MAAM,kCACNxB,EAAS,KA/BM,yBAkCfH,GAAU,GAlCK,6EAAH,qDAsCpBM,GACH,GAAE,CAACL,EAAIE,IAEHJ,GAOD,iCACI,SAAC,EAAD,KACA,SAAC,EAAD,CAAWhB,MAAOA,KAClB,SAAC,EAAD,CAAWP,QAASA,EAASC,KAAMA,KACnC,SAAC,EAAAmD,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACI,UAAC,KAAD,YACI,SAAC,KAAD,CAAOC,KAAK,OAAOC,SAAS,SAACtC,EAAD,CAAMjB,KAAMA,OACxC,SAAC,KAAD,CAAOsD,KAAK,UAAUC,SAAS,SAACxC,EAAD,CAAShB,QAASA,eAZzD,SAACsD,EAAA,EAAD,GAiBX,C,uGCjFKtB,GAAAA,EAAAA,EAAAA,IAAAA,SAAAA,IAAAA,IAAAA,EAAAA,MAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,KACJyB,QAAU,+BAA+B,KAEzCC,UAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAY,WAAMH,GAAN,2FAEFI,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OCVrB,yNDIY,SAUeC,MAAM,GAAD,OAAI,EAAKP,SAAT,OAAmBF,GAAQI,GAV/C,UAWgB,OADlBM,EAVE,QAWKrB,QAEXO,MAAM,gCAEHc,EAASC,GAfN,sBAgBNlB,QAAQC,MAAM,+BACR,IAAIH,MAjBJ,wBAoBWmB,EAASE,OApBpB,eAoBFC,EApBE,yBAqBDA,GArBC,wCAuBRpB,QAAQC,MAAM,uBAAd,MAvBQ,kHAAZS,GAAY,KA4BZW,aAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAc,6GAEa,EAAKX,UAAL,qBAFb,cAEJO,EAFI,yBAGHA,GAHG,sCAKVjB,QAAQsB,IAAI,2CALF,mEAUdpC,aAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAe,WAAMqC,GAAN,gGAEY,EAAKb,UAAL,iBAAyBa,IAFrC,cAELN,EAFK,yBAGJA,GAHI,sCAKXjB,QAAQsB,IAAI,uCALD,iHAAfpC,GAAe,KAUfE,gBAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAkB,WAAMmC,GAAN,gGAES,EAAKb,UAAL,iBAAyBa,EAAzB,aAFT,cAERN,EAFQ,yBAGPA,GAHO,sCAKdjB,QAAQsB,IAAI,0CALE,iHAAlBlC,GAAkB,KAUlBE,gBAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAkB,WAAMiC,GAAN,gGAES,EAAKb,UAAL,iBAAyBa,EAAzB,aAFT,cAERN,EAFQ,yBAGPA,GAHO,sCAKdjB,QAAQsB,IAAI,0CALE,iHAAlBhC,GAAkB,KAUlBkC,YAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAc,WAAOC,EAAOC,GAAd,gGAEa,EAAKhB,UAAL,8BACEe,EADF,oDACmDC,IAHhE,cAEJT,EAFI,yBAKHA,GALG,gCAOVjB,QAAQsB,IAAI,oCAPF,8GAAdE,EAAc,IAYhB,G,sBErFA,SAASG,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBrC,EAAQsC,EAAKtC,KAInB,CAHE,MAAOI,GAEP,YADA6B,EAAO7B,EAET,CAEIkC,EAAKC,KACPP,EAAQhC,GAERN,QAAQsC,QAAQhC,GAAOwC,KAAKN,EAAOC,EAEvC,CAEe,SAASM,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIpD,SAAQ,SAAUsC,EAASC,GACpC,IAAIF,EAAMW,EAAGK,MAAMJ,EAAME,GAEzB,SAASX,EAAMlC,GACb8B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQnC,EAClE,CAEA,SAASmC,EAAOa,GACdlB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASa,EACnE,CAEAd,OAAMe,EACR,GACF,CACF,C","sources":["webpack://react-homework-template/./src/components/GoBackButton/GoBackButton.module.css?1091","components/GoBackButton/GoBackButton.jsx","webpack://react-homework-template/./src/components/LinkBlock/LinkBlock.module.css?58b3","components/LinkBlock/LinkBlock.jsx","webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx","pages/MovieDetails.jsx","services/DataFetcher.js","config.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"GoBackButton_backButton__QrEJL\"};","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport styles from './GoBackButton.module.css'; // Импортируйте стили\n\nfunction GoBackButton() {\n    const location = useLocation();\n    return (\n        <NavLink\n            to={location.state?.from ? location.state?.from : '/'}\n            className={styles.backButton} // Примените стили через класс\n        >← Go back\n        </NavLink>\n    );\n}\n\nexport default GoBackButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"notAvaibleText\":\"LinkBlock_notAvaibleText__XYkl0\"};","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom'\nimport styles from './LinkBlock.module.css'\n\nLinkBlock.propTypes = {\n    reviews: PropTypes.arrayOf(\n        PropTypes.object\n    ),\n    cast: PropTypes.arrayOf(\n        PropTypes.object\n    ),\n};\n\nfunction LinkBlock({ reviews, cast }) {\n    return (\n        <ul>\n            {cast?.length > 0 ? <li><NavLink\n                to=\"./cast\"\n                style={({ isActive }) => ({\n                    borderBottom: isActive ? '1px solid red' : '',\n                    opacity: isActive ? 1 : ''\n                })}>Cast</NavLink></li> :\n                <p className={styles.notAvaibleText}>No avaible info about cast</p>}\n            {\n                reviews?.length > 0 ? <li><NavLink\n                    to=\"./reviews\"\n                    style={({ isActive }) => ({\n                        borderBottom: isActive ? '1px solid red' : '',\n                        opacity: isActive ? 1 : ''\n                    })}>Reviews</NavLink></li> : <p className={styles.notAvaibleText}>There is no reviews</p>\n            }\n        </ul >\n    )\n}\n\nexport default LinkBlock","// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"MovieInfo_movieContainer__nAjvL\",\"moviePoster\":\"MovieInfo_moviePoster__Z0ct8\",\"movieDetails\":\"MovieInfo_movieDetails__Z++1w\",\"movieTitle\":\"MovieInfo_movieTitle__mBlYn\",\"movieOverview\":\"MovieInfo_movieOverview__mjGqs\",\"movieInfo\":\"MovieInfo_movieInfo__LxIpr\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './MovieInfo.module.css';\n\nconst MovieInfo = ({ movie }) => {\n    const defaultImg = 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\n    return (\n        <div className={styles.movieContainer}>\n            <div className={styles.moviePoster}>\n                <img src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : defaultImg} alt={movie.title} />\n            </div>\n            <div className={styles.movieDetails}>\n                <h2 className={styles.movieTitle}>{movie.title}</h2>\n                <p className={styles.movieOverview}>{movie.overview}</p>\n                <p className={styles.movieInfo}>Release Date: {movie.release_date}</p>\n                <p className={styles.movieInfo}>Runtime: {movie.runtime} minutes</p>\n                <p className={styles.movieInfo}>Rating: {movie.vote_average}</p>\n            </div>\n        </div>\n    );\n};\n\nMovieInfo.propTypes = {\n    movie: PropTypes.object.isRequired,\n};\n\nexport default MovieInfo;\n","import GoBackButton from 'components/GoBackButton/GoBackButton';\nimport LinkBlock from 'components/LinkBlock/LinkBlock';\nimport Loader from 'components/Loader/Loader';\nimport MovieInfo from 'components/MovieInfo/MovieInfo';\nimport React, { lazy, Suspense } from 'react'\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Route, Routes, useNavigate, useParams } from 'react-router-dom';\nimport DataFetcher from 'services/DataFetcher';\n\nconst Reviews = lazy(() => import('components/Review/Reviews'));\nconst Cast = lazy(() => import('components/Cast/Cast'));\n\nfunction MovieDetails() {\n    const [movie, setMovie] = useState('')\n    const [cast, setCast] = useState('')\n    const [reviews, setReviews] = useState('')\n    const [isLoaded, setLoaded] = useState(false)\n    const { id } = useParams();\n    const navigate = useNavigate()\n\n    useEffect(() => {\n\n        const fetchDataAsync = async () => {\n\n            try {\n                const dataFetcher = new DataFetcher();\n\n                const moviePromise = dataFetcher.getMovieById(id);\n                //those fetches are about 1-10kb so i decided to load them together to speed up further interactions \n                const castPromise = dataFetcher.getMovieCredits(id);\n                const reviewsPromise = dataFetcher.getMovieReviews(id);\n\n                const [movieResult, castResult, reviewsResult] = await Promise.allSettled([moviePromise, castPromise, reviewsPromise]);\n\n                if (movieResult.status === 'fulfilled') {\n                    setMovie(movieResult.value);\n                } else {\n                    throw new Error('Error fetching movie:', castResult.reason)\n                }\n\n                if (castResult.status === 'fulfilled') {\n                    setCast(castResult.value.cast);\n                } else {\n                    console.error('Error fetching cast:', castResult.reason);\n                }\n\n                if (reviewsResult.status === 'fulfilled') {\n                    setReviews(reviewsResult.value.results);\n                } else {\n                    console.error('Error fetching reviews:', reviewsResult.reason);\n                }\n            } catch (error) {\n                alert(\"there is no movie with such id\")\n                navigate('/')\n            }\n            finally {\n                setLoaded(true)\n            }\n        };\n\n        fetchDataAsync();\n    }, [id, navigate]);\n\n    if (!isLoaded) {\n        return (\n            <Loader />\n        )\n    }\n\n    return (\n        <>\n            <GoBackButton />\n            <MovieInfo movie={movie} />\n            <LinkBlock reviews={reviews} cast={cast} />\n            <Suspense fallback={<Loader />}>\n                <Routes>\n                    <Route path=\"cast\" element={<Cast cast={cast} />} />\n                    <Route path=\"reviews\" element={<Reviews reviews={reviews} />} />\n                </Routes>\n            </Suspense>\n        </>\n    )\n}\n\nexport default MovieDetails","import { API_KEY } from '../config';\n\nclass DataFetcher {\n  baseApi = 'https://api.themoviedb.org/3';\n\n  fetchData = async path => {\n    try {\n      const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          Authorization: `Bearer ${API_KEY}`,\n        },\n      };\n\n      const response = await fetch(`${this.baseApi}${path}`, options);\n      if (response.status === 401) {\n        //this did happen several times atm, dunno how to handle this ¯\\_(ツ)_/¯\n        alert('token is dead, get a new one');\n      }\n      if (!response.ok) {\n        console.error('Network response was not ok');\n        throw new Error();\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      throw error;\n    }\n  };\n\n  getTrending = async () => {\n    try {\n      const response = await this.fetchData(`/trending/all/day`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching trending films');\n      throw error;\n    }\n  };\n\n  getMovieById = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching film by id');\n      throw error;\n    }\n  };\n\n  getMovieCredits = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}/credits`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching movie credits');\n      throw error;\n    }\n  };\n\n  getMovieReviews = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}/reviews`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching movie reviews');\n      throw error;\n    }\n  };\n\n  searchMovie = async (query, page) => {\n    try {\n      const response = await this.fetchData(\n        `/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`\n      );\n      return response;\n    } catch (error) {\n      console.log('Got error while searching movies');\n    }\n  };\n}\n\nexport default DataFetcher;\n\n//   baseImgPath = 'https://image.tmdb.org/t/p/w500';\n//   defaultImg = 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n","export const API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NGY5YzJkN2JiZDYwOGEwYWRkYWYxNTkwZWE5NTcwOCIsInN1YiI6IjY0ZGNiZjFmYTNiNWU2MDBjNWJiZTVlZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.pFVt-xBGyaA25LC8vKy5gHWaplViaRqkTVfl94kfBSI';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["location","useLocation","to","state","from","className","styles","reviews","cast","length","style","isActive","borderBottom","opacity","movie","src","poster_path","alt","title","overview","release_date","runtime","vote_average","Reviews","lazy","Cast","useState","setMovie","setCast","setReviews","isLoaded","setLoaded","id","useParams","navigate","useNavigate","useEffect","fetchDataAsync","dataFetcher","DataFetcher","moviePromise","getMovieById","castPromise","getMovieCredits","reviewsPromise","getMovieReviews","Promise","allSettled","movieResult","castResult","reviewsResult","status","value","Error","reason","console","error","results","alert","Suspense","fallback","Loader","path","element","baseApi","fetchData","options","method","headers","accept","Authorization","fetch","response","ok","json","data","getTrending","log","movie_id","searchMovie","query","page","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}