{"version":3,"file":"static/js/718.f20fcdf2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/TrendingFilms/FilmsList.module.css?2b32","components/TrendingFilms/FilmsList.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/Movies.jsx","services/DataFetcher.js","config.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"homeContainer\":\"FilmsList_homeContainer__L5z-b\",\"sectionTitle\":\"FilmsList_sectionTitle__0zwPC\",\"moviesList\":\"FilmsList_moviesList__ZbcGq\",\"movieCard\":\"FilmsList_movieCard__wCS7o\",\"movieOverview\":\"FilmsList_movieOverview__muOTu\",\"movieInfo\":\"FilmsList_movieInfo__OFcUo\",\"moviePoster\":\"FilmsList_moviePoster__AMZw1\",\"movieTitle\":\"FilmsList_movieTitle__Ymodh\",\"releaseDate\":\"FilmsList_releaseDate__7NAAN\",\"voteAverage\":\"FilmsList_voteAverage__bt87T\",\"isLoading\":\"FilmsList_isLoading__mGZNj\"};","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport styles from './FilmsList.module.css';\n\nFilmsList.propTypes = {\n    movies: PropTypes.arrayOf(\n        PropTypes.object\n    ).isRequired,\n    title: PropTypes.string.isRequired,\n    isLoaded: PropTypes.bool.isRequired,\n    setLoaded: PropTypes.func.isRequired\n}\n\nfunction FilmsList({ movies, title, isLoaded, setLoaded }) {\n\n    const defaultImg = 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n    const location = useLocation()\n\n    useEffect(() => {\n        if (movies.length < 1) {\n            setLoaded(true);\n            return\n        }\n        const imageElements = document.querySelectorAll(\"img\");\n        let imagesLoaded = 0;\n        const handleImageLoad = () => {\n            imagesLoaded++;\n            if (imagesLoaded === imageElements.length) {\n                setLoaded(true);\n            }\n        };\n\n        imageElements.forEach((img) => {\n            if (img.complete) {\n                handleImageLoad();\n            } else {\n                img.addEventListener(\"load\", handleImageLoad);\n            }\n        });\n    }, [movies, setLoaded]);\n\n\n    return (\n        <>\n            {!isLoaded && <Loader />}\n            <div className={!isLoaded ? styles.isLoading : styles.homeContainer}>\n                <h2 className={styles.sectionTitle}>{title}</h2>\n                <div className={styles.moviesList}>\n                    {movies.map(movie => (\n                        <NavLink state={{ from: location.pathname + location.search }} key={movie.id} to={`/movies/${movie.id}`}>\n                            <div className={styles.movieCard} >\n                                <img\n                                    className={styles.moviePoster}\n                                    src={movie.poster_path ? `https://image.tmdb.org/t/p/w200/${movie.poster_path}` : defaultImg}\n                                    alt={movie.title}\n                                />\n                                <div className={styles.movieInfo}>\n                                    <h3 className={styles.movieTitle}>{movie.title}</h3>\n                                    <p className={styles.movieOverview}>{movie.overview}</p>\n                                    <p className={styles.releaseDate}>Release Date: {movie.release_date}</p>\n                                    <p className={styles.voteAverage}>Vote Average: {movie.vote_average}</p>\n                                </div>\n                            </div>\n                        </NavLink>\n                    ))}\n                </div>\n            </div>\n        </>\n\n    );\n}\n\nexport default FilmsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"SearchFormButton\":\"Searchbar_SearchFormButton__dksRa\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__Ov3u1\",\"SearchFormInput\":\"Searchbar_SearchFormInput__FT6Bx\"};","import React, { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css'\n\nconst Searchbar = ({ submitQuery, initQuery }) => {\n    const [searchBar, setSearchBar] = useState(\"\");\n\n\n\n    const handleInputChange = (e) => {\n        setSearchBar(e.target.value);\n    };\n\n    const handleFormSubmit = (e) => {\n        e.preventDefault();\n        submitQuery(searchBar);\n    };\n\n    useEffect(() => {\n        setSearchBar(initQuery);\n    }, [initQuery])\n\n\n    return (\n        <div className={styles.Searchbar}>\n            <form onSubmit={handleFormSubmit} className={styles.SearchForm}>\n                <button type=\"submit\" className={styles.SearchFormButton}>Search</button>\n                <input\n                    className={styles.SearchFormInput}\n                    type=\"text\"\n                    value={searchBar}\n                    onChange={handleInputChange}\n                />\n            </form>\n        </div>\n    );\n}\n\nSearchbar.propTypes = {\n    submitQuery: PropTypes.func.isRequired\n}\n\nexport default Searchbar;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport DataFetcher from 'services/DataFetcher';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport FilmsList from 'components/TrendingFilms/FilmsList';\n\nfunction Movies() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [searchQuery, setSearchQuery] = useState(searchParams.get(\"query\") || '');\n    const [movies, setMovies] = useState([]);\n    const [page, setPage] = useState(1);\n    const [isLoaded, setLoaded] = useState(false);\n\n    const submitQuery = useCallback((text) => {\n        if (text === '') {\n            alert('Your request is empty');\n            return;\n        }\n\n        if (text === searchQuery) {\n            alert(`Request \"${text}\" already loaded`);\n        }\n        if (text !== searchQuery) {\n            setMovies([]);\n            setSearchQuery(text);\n            setPage(1);\n            setSearchParams({ query: text });\n        }\n    }, [searchQuery, setSearchQuery, setMovies, setSearchParams]);\n\n    useEffect(() => {\n        const searchMovies = async () => {\n            try {\n                if (!searchQuery) {\n                    return;\n                }\n                setLoaded(false);\n                const dataFetcher = new DataFetcher();\n                const response = await dataFetcher.searchMovie(searchQuery, page);\n                setMovies(response.results);\n            } catch (error) {\n                console.log('Error fetching movies:', error);\n            }\n        };\n        searchMovies();\n    }, [searchQuery, page]);\n\n    return (\n        <>\n            <Searchbar initQuery={searchQuery} submitQuery={submitQuery} />\n            <FilmsList title={'Search for movies'} movies={movies} setLoaded={setLoaded} isLoaded={isLoaded} />\n        </>\n    );\n}\n\nexport default Movies;\n","import { API_KEY } from '../config';\n\nclass DataFetcher {\n  baseApi = 'https://api.themoviedb.org/3';\n\n  fetchData = async path => {\n    try {\n      const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          Authorization: `Bearer ${API_KEY}`,\n        },\n      };\n\n      const response = await fetch(`${this.baseApi}${path}`, options);\n      if (response.status === 401) {\n        //this did happen several times atm, dunno how to handle this ¯\\_(ツ)_/¯\n        alert('token is dead, get a new one');\n      }\n      if (!response.ok) {\n        console.error('Network response was not ok');\n        throw new Error();\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      throw error;\n    }\n  };\n\n  getTrending = async () => {\n    try {\n      const response = await this.fetchData(`/trending/all/day`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching trending films');\n      throw error;\n    }\n  };\n\n  getMovieById = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching film by id');\n      throw error;\n    }\n  };\n\n  getMovieCredits = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}/credits`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching movie credits');\n      throw error;\n    }\n  };\n\n  getMovieReviews = async movie_id => {\n    try {\n      const response = await this.fetchData(`/movie/${movie_id}/reviews`);\n      return response;\n    } catch (error) {\n      console.log('Got error while fetching movie reviews');\n      throw error;\n    }\n  };\n\n  searchMovie = async (query, page) => {\n    try {\n      const response = await this.fetchData(\n        `/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`\n      );\n      return response;\n    } catch (error) {\n      console.log('Got error while searching movies');\n    }\n  };\n}\n\nexport default DataFetcher;\n\n//   baseImgPath = 'https://image.tmdb.org/t/p/w500';\n//   defaultImg = 'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n","export const API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NGY5YzJkN2JiZDYwOGEwYWRkYWYxNTkwZWE5NTcwOCIsInN1YiI6IjY0ZGNiZjFmYTNiNWU2MDBjNWJiZTVlZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.pFVt-xBGyaA25LC8vKy5gHWaplViaRqkTVfl94kfBSI';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movies","title","isLoaded","setLoaded","location","useLocation","useEffect","length","imageElements","document","querySelectorAll","imagesLoaded","handleImageLoad","forEach","img","complete","addEventListener","Loader","className","styles","map","movie","state","from","pathname","search","to","id","src","poster_path","alt","overview","release_date","vote_average","submitQuery","initQuery","useState","searchBar","setSearchBar","onSubmit","e","preventDefault","type","value","onChange","target","useSearchParams","searchParams","setSearchParams","get","searchQuery","setSearchQuery","setMovies","page","setPage","useCallback","text","alert","query","searchMovies","dataFetcher","DataFetcher","searchMovie","response","results","console","log","FilmsList","baseApi","fetchData","path","options","method","headers","accept","Authorization","fetch","status","ok","error","Error","json","data","getTrending","getMovieById","movie_id","getMovieCredits","getMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}